# Test Setup Summary

**Production Build Testing Infrastructure**

---

## What Was Added

### 1. Test Server Script (`test.js`)
- **Size:** ~200 lines
- **Purpose:** Serve minified production build from `/dist` folder
- **Features:**
  - HTTP server on port 8080
  - MIME type detection
  - Directory traversal protection
  - Request logging with timestamps
  - Graceful shutdown (CTRL+C)
  - Error handling
  - Pretty console output

### 2. NPM Script
Added to `package.json`:
```json
"test": "node test.js"
```

### 3. Documentation
- **TESTING-GUIDE.md** (500+ lines)
  - Complete testing workflow
  - Desktop, mobile, tablet testing
  - Full testing checklist
  - Troubleshooting guide
  - Best practices
  - FAQ

- **TEST-SETUP.md** (this file)
  - Setup summary
  - Quick reference

---

## Quick Start

```bash
# 1. Build production bundle (minified)
npm run build

# 2. Start test server
npm run test

# 3. Open browser
# Visit: http://localhost:8080

# 4. Test thoroughly
# Use TESTING-GUIDE.md checklist

# 5. Stop server
# Press CTRL+C
```

---

## Test Flow

```
Source Files (index.html, style.css, etc.)
         â†“
    npm run build
         â†“
Minified Files (/dist)
         â†“
    npm run test
         â†“
Test Server (localhost:8080)
         â†“
Browser Testing
         â†“
Pass/Fail Decision
         â†“
npm run deploy (if pass)
```

---

## Key Features

### âœ… Serves from `/dist`
- Tests actual minified build
- Same files that will be deployed
- Verifies minification didn't break anything

### âœ… Local Testing
- No internet required
- Fast testing
- Immediate feedback
- Safe (nothing deployed yet)

### âœ… Multiple Device Testing
- Desktop (full screen)
- Mobile (via DevTools)
- Tablet (via DevTools)
- Real device (via IP address)

### âœ… Responsive Testing
- Chrome DevTools built-in
- Test various screen sizes
- Verify mobile responsiveness
- Check tablet layout

### âœ… Console Debugging
- Browser console (F12)
- Check for JavaScript errors
- Verify no error logs
- Monitor network requests

---

## Testing Checklist (Quick)

Essential tests (5 minutes):
- [ ] Homepage loads
- [ ] Images display
- [ ] Menu page works
- [ ] Language switcher works
- [ ] No console errors

Full tests (15 minutes):
- [ ] All items above
- [ ] Desktop view perfect
- [ ] Mobile view perfect
- [ ] Tablet view perfect
- [ ] All links work
- [ ] All animations work
- [ ] CSS looks correct
- [ ] No issues found

---

## Command Reference

```bash
# Build minified production bundle
npm run build

# Start test server (serves /dist)
npm run test

# Build + SEO validation
npm run build:seo

# Full deployment with SEO check
npm run deploy

# Force deployment (rare)
npm run deploy:force
```

---

## File Locations

```
coming-soon/
â”œâ”€â”€ test.js                    # NEW: Test server script
â”œâ”€â”€ TESTING-GUIDE.md           # NEW: Complete testing guide
â”œâ”€â”€ DEPLOYMENT-GUIDE.md        # UPDATED: Now includes test step
â”œâ”€â”€ AGENTS.md                  # UPDATED: Now includes test command
â”œâ”€â”€ README.md                  # UPDATED: Now includes test info
â”œâ”€â”€ package.json               # UPDATED: Added "test" script
â””â”€â”€ dist/                      # Generated by npm run build
    â”œâ”€â”€ index.html
    â”œâ”€â”€ menu/
    â”œâ”€â”€ css/
    â”œâ”€â”€ js/
    â”œâ”€â”€ images/
    â””â”€â”€ [other static files]
```

---

## Test Server Details

### Port
- **Default:** 8080
- **Edit:** Change `PORT = 8080` in test.js to use different port

### MIME Types
Automatically handles:
- HTML, CSS, JavaScript
- PNG, JPG, GIF, SVG, WebP, ICO
- JSON, WOFF, WOFF2, TTF

### Logging
Shows in console:
- Timestamps
- HTTP method
- File path
- File size

### Security
- Prevents directory traversal attacks
- No execution of files
- Read-only serving
- Safe for testing

---

## Troubleshooting

### Port 8080 in use?
```bash
# Find process using port 8080
lsof -i :8080          # Mac/Linux

# Kill the process
kill -9 <PID>

# Or change port in test.js
# Edit: const PORT = 8080;
```

### dist/ folder missing?
```bash
# Build first
npm run build

# Then test
npm run test
```

### Images not loading?
- Check `/dist/images/` folder exists
- Verify image paths in HTML (use `/images/filename.png`)
- Hard refresh browser (CTRL+Shift+R)
- Check browser console for 404 errors

### Styles not loading?
- Hard refresh browser (CTRL+Shift+R)
- Verify CSS file exists: `/dist/css/style-gate7.css`
- Check browser console for errors
- Verify minification was successful

---

## Testing Workflow

### Before Testing
1. Make changes to source files
2. Test locally if needed (source files)
3. Ready to test production build

### Testing
1. `npm run build` - Minify
2. `npm run test` - Start server
3. Browser: http://localhost:8080
4. Run through checklist
5. CTRL+C to stop

### After Testing
- If pass: `npm run deploy`
- If fail: Fix issues, rebuild, test again

---

## Integration with Deployment

```
Development
    â†“
    npm run build (minify)
    â†“
    npm run test (test minified version)
    â†“
    Browser testing [PASS]
    â†“
Production
    â†“
    npm run deploy (validate SEO + deploy)
    â†“
    GitHub Pages updated
    â†“
    Site live in ~2 minutes
```

---

## Performance Testing

### Minification Savings
```
HTML:  ~30% smaller
CSS:   ~26% smaller
JS:    ~40% smaller
Total: ~28% reduction
```

### Load Times
Test server: <1 second
Production: ~2 minutes (git push + GitHub Pages rebuild)

### Responsive
- Desktop: Full width
- Tablet: Scaled appropriately
- Mobile: Touch-friendly, responsive

---

## Best Practices

### Do's âœ…
- Test before deployment
- Test on multiple devices
- Test mobile responsiveness
- Check console for errors
- Test all pages and links
- Test on different browsers

### Don'ts âŒ
- Don't modify /dist files directly
- Don't skip testing
- Don't test with cache enabled (hard refresh)
- Don't leave test server running long-term
- Don't deploy without testing

---

## Resources

- **TESTING-GUIDE.md** - Complete testing instructions
- **DEPLOYMENT-GUIDE.md** - Deployment workflow
- **AGENTS.md** - Development guidelines
- **README.md** - Project overview
- **package.json** - NPM scripts

---

## Version

- **Created:** November 21, 2025
- **Test Server:** v1.0
- **Supported:** Node.js >= 14.0.0
- **Status:** Production Ready âœ…

---

## Examples

### Basic Test
```bash
npm run build
npm run test
# Visit http://localhost:8080
# Check homepage
# CTRL+C to stop
```

### Full Test
```bash
npm run build
npm run test
# Visit http://localhost:8080
# Test all pages using TESTING-GUIDE.md checklist
# CTRL+C to stop
```

### Mobile Device Test
```bash
npm run build
npm run test

# On mobile browser:
# Visit http://<YOUR_IP>:8080
# (Find YOUR_IP: ipconfig on Windows, ifconfig on Mac/Linux)
```

### After Testing
```bash
# If tests pass:
npm run deploy

# If tests fail:
# Fix issues in source files
# Rebuild and test again
npm run build
npm run test
```

---

## Support

For testing issues:
1. Check TESTING-GUIDE.md
2. Review browser console (F12)
3. Check `/dist` folder exists
4. Verify test server started successfully
5. Try hard refresh (CTRL+Shift+R)

---

**Testing Setup Complete! ðŸ§ª**

Ready to test production builds before deployment.
